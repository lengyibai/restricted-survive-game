var V=Object.defineProperty;var X=(t,e,i)=>e in t?V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var h=(t,e,i)=>X(t,typeof e!="symbol"?e+"":e,i);import{d as q,r as U,o as Y,c as J,a as Q,b as Z}from"./game_vue-DNU60DdV.js";import{g as w}from"./game_js_plgins-DjKJqAo0.js";import{j as C,k as tt,l as et,m as it,n as rt,b as ot,G as j,C as nt}from"./game_pixi-Bt-Im6-M.js";import"./game_pixi_plgins-CrgrCGGP.js";import"./game_spine-DXDHEHLV.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=i(o);fetch(o.href,s)}})();function st(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var M=st,at=typeof C=="object"&&C&&C.Object===Object&&C,dt=at,ht=dt,lt=typeof self=="object"&&self&&self.Object===Object&&self,ut=ht||lt||Function("return this")(),G=ut,ct=G,ft=function(){return ct.Date.now()},yt=ft,pt=/\s/;function gt(t){for(var e=t.length;e--&&pt.test(t.charAt(e)););return e}var bt=gt,mt=bt,St=/^\s+/;function wt(t){return t&&t.slice(0,mt(t)+1).replace(St,"")}var vt=wt,xt=G,Tt=xt.Symbol,H=Tt,$=H,K=Object.prototype,Pt=K.hasOwnProperty,Ct=K.toString,x=$?$.toStringTag:void 0;function Bt(t){var e=Pt.call(t,x),i=t[x];try{t[x]=void 0;var r=!0}catch{}var o=Ct.call(t);return r&&(e?t[x]=i:delete t[x]),o}var _t=Bt,Ot=Object.prototype,jt=Ot.toString;function Wt(t){return jt.call(t)}var kt=Wt,z=H,It=_t,$t=kt,zt="[object Null]",At="[object Undefined]",A=z?z.toStringTag:void 0;function Ft(t){return t==null?t===void 0?At:zt:A&&A in Object(t)?It(t):$t(t)}var Lt=Ft;function Et(t){return t!=null&&typeof t=="object"}var Rt=Et,Mt=Lt,Gt=Rt,Ht="[object Symbol]";function Kt(t){return typeof t=="symbol"||Gt(t)&&Mt(t)==Ht}var Nt=Kt,Dt=vt,F=M,Vt=Nt,L=NaN,Xt=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Ut=/^0o[0-7]+$/i,Yt=parseInt;function Jt(t){if(typeof t=="number")return t;if(Vt(t))return L;if(F(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=F(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Dt(t);var i=qt.test(t);return i||Ut.test(t)?Yt(t.slice(2),i?2:8):Xt.test(t)?L:+t}var Qt=Jt,Zt=M,O=yt,E=Qt,te="Expected a function",ee=Math.max,ie=Math.min;function re(t,e,i){var r,o,s,l,d,n,a=0,c=!1,f=!1,b=!0;if(typeof t!="function")throw new TypeError(te);e=E(e)||0,Zt(i)&&(c=!!i.leading,f="maxWait"in i,s=f?ee(E(i.maxWait)||0,e):s,b="trailing"in i?!!i.trailing:b);function m(u){var g=r,v=o;return r=o=void 0,a=u,l=t.apply(v,g),l}function y(u){return a=u,d=setTimeout(P,e),c?m(u):l}function S(u){var g=u-n,v=u-a,I=e-g;return f?ie(I,s-v):I}function p(u){var g=u-n,v=u-a;return n===void 0||g>=e||g<0||f&&v>=s}function P(){var u=O();if(p(u))return k(u);d=setTimeout(P,S(u))}function k(u){return d=void 0,b&&r?m(u):(r=o=void 0,l)}function N(){d!==void 0&&clearTimeout(d),a=0,r=n=o=d=void 0}function D(){return d===void 0?l:k(O())}function _(){var u=O(),g=p(u);if(r=arguments,o=this,n=u,g){if(d===void 0)return y(n);if(f)return clearTimeout(d),d=setTimeout(P,e),m(n)}return d===void 0&&(d=setTimeout(P,e)),l}return _.cancel=N,_.flush=D,_}var oe=re;const W=tt(oe),T=new et({resizeTo:window,antialias:!1,resolution:window.devicePixelRatio||1,autoDensity:!0});class ne{constructor(){h(this,"currentScreen");h(this,"_debounceShowScreen");const e=W(()=>{this.updateViewSize()});window.addEventListener("resize",e),this._debounceShowScreen=W(async i=>{this.addAndShowScreen(i),this.updateViewSize()},1e3,{leading:!0,trailing:!1})}updateViewSize(){if(!this.currentScreen)return;const e=window.innerWidth,i=window.innerHeight;this.currentScreen.resize(e,i)}async showScreen(e){this.currentScreen&&await this.hideAndRemoveScreen(this.currentScreen),this._debounceShowScreen(e)}async hideAndRemoveScreen(e){return new Promise(i=>{w.to(e,{duration:.5,alpha:0,onComplete(){e.eventMode="none",e.visible=!1,e.destroy({children:!0}),i()}})})}addAndShowScreen(e){this.currentScreen=new e,T.stage.addChild(this.currentScreen),this.currentScreen.alpha=0,w.to(this.currentScreen,{duration:.5,alpha:1})}}const se=new ne;class ae extends it{constructor(e){const{text:i,fontSize:r=36,fontColor:o=16777215,stroke:s,strokeColor:l,strokeThickness:d,fontWeight:n="normal",anchor:a=0,wordWrap:c=!1,wordWrapWidth:f=100,lineHeight:b=1.25,align:m="left",indent:y=0,shadow:S}=e,p=new rt({fontSize:r,wordWrap:c,wordWrapWidth:f,fontWeight:n,lineHeight:b*r,breakWords:c,fill:o,align:m,fontFamily:"MicrosoftYaHei",stroke:s?l:"transparent",strokeThickness:s?d:0});S&&(p.dropShadow=!0,p.dropShadowColor=S[0],p.dropShadowAngle=S[1]*(Math.PI/180),p.dropShadowBlur=S[2],p.dropShadowDistance=S[3]),super(i,p),this.position.x=y*r,this.anchor.set(a)}setColor(e){this.style&&(this.style.fill=e)}setWordWrapWidth(e){this.style.wordWrapWidth=e}}class de extends ot{constructor(e,i){super(),this.width=e,this.height=i}}class he extends j{constructor(i){super();h(this,"radius",0);h(this,"enableTint",!0);h(this,"bgColor","#fff");h(this,"borderWidth",0);h(this,"borderColor","black");h(this,"bgAlpha",1);const{x:r=0,y:o=0,width:s=0,height:l=0,bgColor:d="#fff",alpha:n=1,radius:a=0,borderWidth:c=0,borderColor:f="black",enableTint:b=!0,overflowHide:m=!1}=i;if(this.x=r,this.y=o,this.bgAlpha=n,this.radius=a,this.enableTint=b,this.bgColor=d,this.borderWidth=c,this.borderColor=f,this.renderBg(s,l),m){const y=new j;y.beginFill(16777215),y.drawRect(0,0,s,l),y.endFill(),this.addChild(y),this.mask=y}}updateColor(i){w.to(this,{tint:i,duration:.25})}renderBg(i,r){this.clear(),this.enableTint?(this.beginFill("#fff",this.bgAlpha),this.tint=this.bgColor):(this.beginFill(this.bgColor,this.bgAlpha),this.borderWidth&&this.lineStyle(this.borderWidth,this.borderColor,1)),this.borderWidth&&this.lineStyle(this.borderWidth,this.borderColor,1),this.radius!==0?typeof this.radius=="number"?this.drawRoundedRect(0,0,i,r,this.radius):(this.moveTo(0+this.radius[0],0),this.lineTo(0+i-this.radius[1],0),this.radius[1]>0?this.arcTo(0+i,0,0+i,0+this.radius[1],this.radius[1]):this.lineTo(0+i,0),this.lineTo(0+i,0+r-this.radius[2]),this.radius[2]>0?this.arcTo(0+i,0+r,0+i-this.radius[2],0+r,this.radius[2]):this.lineTo(0+i,0+r),this.lineTo(0+this.radius[3],0+r),this.radius[3]>0?this.arcTo(0,0+r,0,0+r-this.radius[3],this.radius[3]):this.lineTo(0,0+r),this.lineTo(0,0+this.radius[0]),this.radius[0]>0?this.arcTo(0,0,0+this.radius[0],0,this.radius[0]):this.lineTo(0,0),this.closePath()):this.drawRect(0,0,i,r),this.endFill()}showBorder(i){this.borderWidth=i?2:0,this.renderBg(this.width,this.height)}}class B extends nt{constructor(i,r,o){super();h(this,"fill");h(this,"bgColorFill");o?(this.bgColorFill=new he({width:i,height:r,bgColor:o}),this.addChild(this.bgColorFill)):(this.fill=new de(i,r),this.addChild(this.fill))}setSize(i,r){this.fill&&(this.fill.width=i,this.fill.height=r),this.bgColorFill&&this.bgColorFill.renderBg(i,r)}}const R=t=>{const e=new j;return e.beginFill(16777215),e.drawRect(0,0,t.width,t.height),e.endFill(),t.addChild(e),t.mask=e,e};class le{constructor(){h(this,"verticalScreenInfo",{width:0,height:0,scale:1});h(this,"horizontalScreenInfo",{width:0,height:0,scale:1});h(this,"updateViewSize",()=>{const e=T.screen.width,i=T.screen.height,r=e<i;this.horizontalScreenInfo.width=e,this.horizontalScreenInfo.height=i,this.horizontalScreenInfo.scale=Math.min(e/1920,i/1080),this.verticalScreenInfo.width=e,this.verticalScreenInfo.height=i,this.verticalScreenInfo.scale=r?e/1080:i/1080});this.updateViewSize(),window.addEventListener("resize",W(this.updateViewSize,250))}}new le;function ue(){return`#${Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}`}class ce extends B{constructor(){super(1920,1080,"#000");h(this,"ground");h(this,"player");h(this,"playerCenterStatus",{xCenter:!0,yCenter:!0});h(this,"groundBoundaryStatus",{left:!1,right:!1,top:!1,bottom:!1});h(this,"groundBoundaryAnimateStatus",{left:!1,right:!1,top:!1,bottom:!1});h(this,"groundPosition",{x:0,y:0});h(this,"playerPosition",{x:0,y:0});R(this),this.ground=new B(5e3,5e3,"#000"),this.addChild(this.ground),R(this.ground),this.ground.x=-5e3/2+1920/2,this.ground.y=-5e3/2+1080/2;let i=0;for(let r=0;r<625;r++){const o=new B(200,200,ue());o.alpha=.1,this.ground.addChild(o);const s=new ae({text:r+1,fontColor:"#fff",fontSize:30});o.addChild(s);const l=r%25,d=Math.floor(r/25);o.x=l===0?0:i,o.y=d*o.height,i=o.x+o.width,l===24&&(i=0)}this.player=new B(25,25,"red"),this.addChild(this.player),this.player.x=1920/2-this.player.width/2,this.player.y=1080/2-this.player.width/2,this.setKeyDownEvent()}setKeyDownEvent(){const i={};this.groundPosition.x=this.ground.x,this.groundPosition.y=this.ground.y;const r=(n,a)=>{w.killTweensOf(this.ground),!this.groundBoundaryStatus.left&&!this.groundBoundaryStatus.right&&(this.groundPosition.x+=n),!this.groundBoundaryStatus.top&&!this.groundBoundaryStatus.bottom&&(this.groundPosition.y+=a),this.groundPosition.x>=0&&n>0&&(this.groundPosition.x=0),this.groundBoundaryStatus.left=this.groundPosition.x===0,this.groundPosition.x<=-3080&&n<0&&(this.groundPosition.x=-3080),this.groundBoundaryStatus.right=this.groundPosition.x===-3080,this.groundPosition.y>=0&&a>0&&(this.groundPosition.y=0),this.groundBoundaryStatus.top=this.groundPosition.y===0,this.groundPosition.y<=-3920&&a<0&&(this.groundPosition.y=-3920,this.groundBoundaryStatus.bottom=!0),this.groundBoundaryStatus.bottom=this.groundPosition.y===-3920,w.to(this.ground,{x:this.groundPosition.x,y:this.groundPosition.y,duration:.5,ease:"power2.out"}),o(-n,-a)};this.playerPosition.x=this.player.x,this.playerPosition.y=this.player.y;const o=(n,a)=>{w.killTweensOf(this.player),(this.groundBoundaryStatus.left||this.groundBoundaryStatus.right)&&(this.playerPosition.x+=n),(this.groundBoundaryStatus.top||this.groundBoundaryStatus.bottom)&&(this.playerPosition.y+=a),this.playerPosition.x<=0&&n<0&&(this.playerPosition.x=0),this.playerPosition.x>=1920-this.player.width&&n>0&&(this.playerPosition.x=1920-this.player.width),this.playerPosition.y<=0&&a<0&&(this.playerPosition.y=0),this.playerPosition.y>=1080-this.player.height&&a>0&&(this.playerPosition.y=1080-this.player.height),(this.groundBoundaryStatus.left&&this.playerPosition.x>=(1920-this.player.width)/2||this.groundBoundaryStatus.right&&this.playerPosition.x<=(1920-this.player.width)/2)&&(this.playerPosition.x=(1920-this.player.width)/2,this.playerCenterStatus.xCenter=!0,this.groundBoundaryStatus.left=!1,this.groundBoundaryStatus.right=!1),(this.groundBoundaryStatus.top&&this.playerPosition.y>=(1080-this.player.height)/2||this.groundBoundaryStatus.bottom&&this.playerPosition.y<=(1080-this.player.height)/2)&&(this.playerPosition.y=(1080-this.player.height)/2,this.playerCenterStatus.yCenter=!0,this.groundBoundaryStatus.top=!1,this.groundBoundaryStatus.bottom=!1),w.to(this.player,{x:this.playerPosition.x,y:this.playerPosition.y,ease:"power2.out",duration:.5})},s={KeyD:[-10,0],KeyA:[10,0],KeyW:[0,10],KeyS:[0,-10]},l=()=>{const n=i.KeyA&&i.KeyD,a=i.KeyW&&i.KeyS;return n||a},d=()=>{if(!l()){for(const n in i)if(i[n]&&s[n]){const[a,c]=s[n];r(a,c)}}requestAnimationFrame(d)};window.addEventListener("keydown",n=>{console.log(n.code),i[n.code]=!0}),window.addEventListener("keyup",n=>{i[n.code]=!1}),d()}resize(i,r){}}const fe=q({__name:"index",setup(t){const e=U();return Y(async()=>{e.value&&(e.value.append(T.view),globalThis.__PIXI_APP__=T,se.showScreen(ce))}),(i,r)=>(Q(),J("div",{ref_key:"appRef",ref:e},null,512))}}),ye=Z(fe);ye.mount("#app");
